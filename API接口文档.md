# å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿ API æ¥å£æ–‡æ¡£

## ğŸ“‹ åŸºç¡€ä¿¡æ¯

- **åŸºç¡€URL**: `http://localhost:8080`
- **æ•°æ®æ ¼å¼**: JSON
- **æ”¯æŒè·¨åŸŸ**: æ˜¯ï¼ˆæ‰€æœ‰æ¥å£å·²é…ç½® `@CrossOrigin(origins = "*")`ï¼‰

---

## ğŸ“š ç›®å½•

1. [ç”¨æˆ·è®¤è¯æ¥å£](#1-ç”¨æˆ·è®¤è¯æ¥å£)
2. [è¯¾ç¨‹ç®¡ç†æ¥å£](#2-è¯¾ç¨‹ç®¡ç†æ¥å£)
3. [é€‰è¯¾ç®¡ç†æ¥å£](#3-é€‰è¯¾ç®¡ç†æ¥å£)
4. [æˆç»©ç®¡ç†æ¥å£](#4-æˆç»©ç®¡ç†æ¥å£)
5. [æ•°æ®æ¨¡å‹](#5-æ•°æ®æ¨¡å‹)

---

## 1. ç”¨æˆ·è®¤è¯æ¥å£

**åŸºç¡€è·¯å¾„**: `/user`

### 1.1 ç”¨æˆ·æ³¨å†Œ

æ³¨å†Œæ–°ç”¨æˆ·ï¼ˆå­¦ç”Ÿ/æ•™å¸ˆï¼‰

**æ¥å£åœ°å€**: `POST /user/register`

**è¯·æ±‚å¤´**:
```
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| username | String | æ˜¯ | ç”¨æˆ·å |
| password | String | æ˜¯ | å¯†ç  |
| role | String | æ˜¯ | ç”¨æˆ·è§’è‰²ï¼ˆå¦‚ï¼šstudentã€teacherã€adminï¼‰ |
| id | int | å¦ | ç”¨æˆ·IDï¼ˆç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆï¼‰ |

**è¯·æ±‚ç¤ºä¾‹**:
```json
{
  "username": "zhangsan",
  "password": "123456",
  "role": "student"
}
```

**å“åº”ç¤ºä¾‹**:
```
ç”¨æˆ·æ·»åŠ æˆåŠŸ
```

---

### 1.2 ç”¨æˆ·ç™»å½•

ç”¨æˆ·ç™»å½•éªŒè¯

**æ¥å£åœ°å€**: `GET /user/login`

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| username | String | æ˜¯ | ç”¨æˆ·å |
| password | String | æ˜¯ | å¯†ç  |

**è¯·æ±‚ç¤ºä¾‹**:
```
GET /user/login?username=zhangsan&password=123456
```

**å“åº”ç¤ºä¾‹**:
```
ç™»å½•æˆåŠŸ
```
æˆ–
```
ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯
```

---

### 1.3 åˆ é™¤ç”¨æˆ·

ç®¡ç†å‘˜åˆ é™¤ç”¨æˆ·ï¼ˆæ•™å¸ˆ/å­¦ç”Ÿï¼‰

**æ¥å£åœ°å€**: `DELETE /user/delete/{username}`

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| username | String | æ˜¯ | è¦åˆ é™¤çš„ç”¨æˆ·å |

**è¯·æ±‚ç¤ºä¾‹**:
```
DELETE /user/delete/zhangsan
```

**å“åº”ç¤ºä¾‹**:
```
ç”¨æˆ·åˆ é™¤æˆåŠŸ
```
æˆ–
```
ç”¨æˆ·ä¸å­˜åœ¨
```

---

## 2. è¯¾ç¨‹ç®¡ç†æ¥å£

**åŸºç¡€è·¯å¾„**: `/courseManagement`

### 2.1 è·å–æ‰€æœ‰è¯¾ç¨‹

è·å–ç³»ç»Ÿä¸­æ‰€æœ‰è¯¾ç¨‹åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /courseManagement/getAllCourse`

**è¯·æ±‚å‚æ•°**: æ— 

**è¯·æ±‚ç¤ºä¾‹**:
```
GET /courseManagement/getAllCourse
```

**å“åº”ç¤ºä¾‹**:
```json
[
  {
    "id": 1,
    "name": "é«˜ç­‰æ•°å­¦",
    "userId": 1,
    "credit": 4.0,
    "teacherId": 101
  },
  {
    "id": 2,
    "name": "Javaç¨‹åºè®¾è®¡",
    "userId": 1,
    "credit": 3.0,
    "teacherId": 102
  }
]
```

---

### 2.2 æ·»åŠ è¯¾ç¨‹

æ·»åŠ æ–°è¯¾ç¨‹

**æ¥å£åœ°å€**: `POST /courseManagement/addCourse`

**è¯·æ±‚å¤´**:
```
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| name | String | æ˜¯ | è¯¾ç¨‹åç§° |
| userId | int | æ˜¯ | ç”¨æˆ·ID |
| credit | double | æ˜¯ | å­¦åˆ† |
| teacherId | int | æ˜¯ | æ•™å¸ˆID |
| id | int | å¦ | è¯¾ç¨‹IDï¼ˆç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆï¼‰ |

**è¯·æ±‚ç¤ºä¾‹**:
```json
{
  "name": "æ•°æ®åº“ç³»ç»ŸåŸç†",
  "userId": 1,
  "credit": 3.5,
  "teacherId": 103
}
```

**å“åº”ç¤ºä¾‹**:
```
è¯¾ç¨‹å¢åŠ æˆåŠŸ
```

---

### 2.3 æ›´æ–°è¯¾ç¨‹

æ›´æ–°å·²å­˜åœ¨çš„è¯¾ç¨‹ä¿¡æ¯

**æ¥å£åœ°å€**: `PUT /courseManagement/updateCourse`

**è¯·æ±‚å¤´**:
```
Content-Type: application/json
```

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| id | int | æ˜¯ | è¯¾ç¨‹ID |
| name | String | æ˜¯ | è¯¾ç¨‹åç§° |
| userId | int | æ˜¯ | ç”¨æˆ·ID |
| credit | double | æ˜¯ | å­¦åˆ† |
| teacherId | int | æ˜¯ | æ•™å¸ˆID |

**è¯·æ±‚ç¤ºä¾‹**:
```json
{
  "id": 1,
  "name": "é«˜ç­‰æ•°å­¦ï¼ˆä¸Šï¼‰",
  "userId": 1,
  "credit": 4.5,
  "teacherId": 101
}
```

**å“åº”ç¤ºä¾‹**:
```
è¯¾ç¨‹ä¿®æ”¹æˆåŠŸ
```

---

### 2.4 åˆ é™¤è¯¾ç¨‹

æ ¹æ®è¯¾ç¨‹åç§°åˆ é™¤è¯¾ç¨‹

**æ¥å£åœ°å€**: `DELETE /courseManagement/deleteCourse/{name}`

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| name | String | æ˜¯ | è¯¾ç¨‹åç§° |

**è¯·æ±‚ç¤ºä¾‹**:
```
DELETE /courseManagement/deleteCourse/é«˜ç­‰æ•°å­¦
```

**å“åº”ç¤ºä¾‹**:
```
è¯¾ç¨‹åˆ é™¤æˆåŠŸ
```

---

## 3. é€‰è¯¾ç®¡ç†æ¥å£

**åŸºç¡€è·¯å¾„**: `/courseSelect`

### 3.1 é€‰è¯¾

å­¦ç”Ÿé€‰æ‹©è¯¾ç¨‹

**æ¥å£åœ°å€**: `PUT /courseSelect/selectOneCourse`

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| studentId | Integer | æ˜¯ | å­¦ç”ŸID |
| courseId | Integer | æ˜¯ | è¯¾ç¨‹ID |

**è¯·æ±‚ç¤ºä¾‹**:
```
PUT /courseSelect/selectOneCourse?studentId=1&courseId=1
```

**å“åº”ç¤ºä¾‹**:
```
é€‰è¯¾æˆåŠŸ
```
æˆ–
```
å‚æ•°é”™è¯¯ï¼šå­¦ç”ŸIDå’Œè¯¾ç¨‹IDä¸èƒ½ä¸ºç©º
```

---

### 3.2 é€€è¯¾

å­¦ç”Ÿé€€é€‰è¯¾ç¨‹

**æ¥å£åœ°å€**: `DELETE /courseSelect/deleteCourseSelection/{student_id}/{course_id}`

**è·¯å¾„å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| student_id | Integer | æ˜¯ | å­¦ç”ŸID |
| course_id | Integer | æ˜¯ | è¯¾ç¨‹ID |

**è¯·æ±‚ç¤ºä¾‹**:
```
DELETE /courseSelect/deleteCourseSelection/1/1
```

**å“åº”ç¤ºä¾‹**:
```
è¯¾ç¨‹åˆ é™¤å®Œæ¯•
```

---

## 4. æˆç»©ç®¡ç†æ¥å£

**åŸºç¡€è·¯å¾„**: `/scoreManagement`

### 4.1 æ·»åŠ æˆç»©

æ•™å¸ˆä¸ºå­¦ç”Ÿå½•å…¥æˆç»©

**æ¥å£åœ°å€**: `POST /scoreManagement/addScore`

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| StudentId | int | æ˜¯ | å­¦ç”ŸID |
| CourseId | int | æ˜¯ | è¯¾ç¨‹ID |
| score | int | æ˜¯ | æˆç»©ï¼ˆ0-100ä¹‹é—´ï¼‰ |

**è¯·æ±‚ç¤ºä¾‹**:
```
POST /scoreManagement/addScore?StudentId=1&CourseId=1&score=85
```

**å“åº”ç¤ºä¾‹**:
```
æˆç»©å†™å…¥å®Œæˆ
```
æˆ–
```
æˆç»©å¿…é¡»åœ¨0-100ä¹‹é—´
```

---

### 4.2 æŸ¥è¯¢æˆç»©

æŸ¥è¯¢å­¦ç”Ÿçš„è¯¾ç¨‹æˆç»©

**æ¥å£åœ°å€**: `GET /scoreManagement/getScore`

**è¯·æ±‚å‚æ•°**:

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| StudentId | int | æ˜¯ | å­¦ç”ŸID |
| CourseId | int | æ˜¯ | è¯¾ç¨‹ID |

**è¯·æ±‚ç¤ºä¾‹**:
```
GET /scoreManagement/getScore?StudentId=1&CourseId=1
```

**å“åº”ç¤ºä¾‹**:
```
æˆç»©ï¼š85
```
æˆ–
```
æœªæ‰¾åˆ°å¯¹åº”çš„æˆç»©è®°å½•
```

---

## 5. æ•°æ®æ¨¡å‹

### 5.1 Userï¼ˆç”¨æˆ·ï¼‰

```json
{
  "id": 1,
  "username": "zhangsan",
  "password": "123456",
  "role": "student"
}
```

**å­—æ®µè¯´æ˜**:

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | int | ç”¨æˆ·IDï¼ˆä¸»é”®ï¼Œè‡ªå¢ï¼‰ |
| username | String | ç”¨æˆ·åï¼ˆå”¯ä¸€ï¼‰ |
| password | String | å¯†ç  |
| role | String | ç”¨æˆ·è§’è‰²ï¼ˆstudent/teacher/adminï¼‰ |

---

### 5.2 Courseï¼ˆè¯¾ç¨‹ï¼‰

```json
{
  "id": 1,
  "name": "é«˜ç­‰æ•°å­¦",
  "userId": 1,
  "credit": 4.0,
  "teacherId": 101
}
```

**å­—æ®µè¯´æ˜**:

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | int | è¯¾ç¨‹IDï¼ˆä¸»é”®ï¼Œè‡ªå¢ï¼‰ |
| name | String | è¯¾ç¨‹åç§° |
| userId | int | ç”¨æˆ·ID |
| credit | double | å­¦åˆ† |
| teacherId | int | æ•™å¸ˆID |

---

### 5.3 CourseSelectionï¼ˆé€‰è¯¾è®°å½•ï¼‰

**å­—æ®µè¯´æ˜**:

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| id | int | é€‰è¯¾è®°å½•IDï¼ˆä¸»é”®ï¼Œè‡ªå¢ï¼‰ |
| studentId | int | å­¦ç”ŸID |
| courseId | int | è¯¾ç¨‹ID |
| score | int | æˆç»©ï¼ˆ-1è¡¨ç¤ºæœªå½•å…¥ï¼‰ |

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **è¯·æ±‚ç¼–ç **: æ‰€æœ‰è¯·æ±‚å‡ä½¿ç”¨ UTF-8 ç¼–ç 
2. **HTTPçŠ¶æ€ç **: 
   - `200 OK`: è¯·æ±‚æˆåŠŸ
   - `400 Bad Request`: è¯·æ±‚å‚æ•°é”™è¯¯
   - `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯
3. **è·¨åŸŸæ”¯æŒ**: æ‰€æœ‰æ¥å£å‡å·²é…ç½®è·¨åŸŸè®¿é—®
4. **å‚æ•°éªŒè¯**: 
   - æˆç»©å¿…é¡»åœ¨ 0-100 ä¹‹é—´
   - å¿…å¡«å‚æ•°ç¼ºå¤±å°†è¿”å›é”™è¯¯ä¿¡æ¯
5. **é”™è¯¯å¤„ç†**: æ‰€æœ‰æ¥å£éƒ½ä¼šè¿”å›ç›¸åº”çš„é”™è¯¯æç¤ºä¿¡æ¯ï¼Œä¸ä¼šè¿”å› `null`

---

## ğŸ”— æ¥å£æ±‡æ€»è¡¨

| åŠŸèƒ½æ¨¡å— | æ¥å£è·¯å¾„ | è¯·æ±‚æ–¹æ³• | åŠŸèƒ½æè¿° |
|---------|---------|---------|---------|
| ç”¨æˆ·è®¤è¯ | `/user/register` | POST | ç”¨æˆ·æ³¨å†Œ |
| ç”¨æˆ·è®¤è¯ | `/user/login` | GET | ç”¨æˆ·ç™»å½• |
| ç”¨æˆ·è®¤è¯ | `/user/delete/{username}` | DELETE | åˆ é™¤ç”¨æˆ· |
| è¯¾ç¨‹ç®¡ç† | `/courseManagement/getAllCourse` | GET | è·å–æ‰€æœ‰è¯¾ç¨‹ |
| è¯¾ç¨‹ç®¡ç† | `/courseManagement/addCourse` | POST | æ·»åŠ è¯¾ç¨‹ |
| è¯¾ç¨‹ç®¡ç† | `/courseManagement/updateCourse` | PUT | æ›´æ–°è¯¾ç¨‹ |
| è¯¾ç¨‹ç®¡ç† | `/courseManagement/deleteCourse/{name}` | DELETE | åˆ é™¤è¯¾ç¨‹ |
| é€‰è¯¾ç®¡ç† | `/courseSelect/selectOneCourse` | PUT | å­¦ç”Ÿé€‰è¯¾ |
| é€‰è¯¾ç®¡ç† | `/courseSelect/deleteCourseSelection/{student_id}/{course_id}` | DELETE | å­¦ç”Ÿé€€è¯¾ |
| æˆç»©ç®¡ç† | `/scoreManagement/addScore` | POST | å½•å…¥æˆç»© |
| æˆç»©ç®¡ç† | `/scoreManagement/getScore` | GET | æŸ¥è¯¢æˆç»© |

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2024å¹´

